from gptchecker import GPTChecker

logs1 = [
    "2024-05-14 15:52:12.394 INFO   1 --- [http-nio-18886-exec-7] r.s.LoggingAspect: Entering in Method: rebook, Class: rebook.service.RebookServiceImpl, Arguments: [RebookInfo(loginId=, orderId=2c894e5b-a62c-4a32-887e-f3be7923a2a6, oldTripId=G1236, tripId=G1234, seatType=2, date=2024-05-14)], Return: Response( msg=Success, data=OrderUpdateDto(order=Order(id=2c894e5b-a62c-4a32-887e-f3be7923a2a6, boughtDate=2024-05-14 15:34:36, travelDate=2024-05-14, travelTime=2013-05-04 14:00:00, accountId=4d2a46c7-71cb-4cf1-b5bb-b68406d9da6f, contactsName=Contacts_One, documentType=1, contactsDocumentNumber=DocumentNumber_One, trainNumber=G1236, coachNumber=5, seatClass=3, seatNumber=958252818, from=nanjing, to=suzhou, , price=140.0, differenceMoney=0.0), rebookInfo=null, tripAllDetail=TripAllDetail(status=false, message=null, tripResponse=TripResponse(tripId=G1234, trainTypeName=GaoTieOne, startStation=nanjing, terminalStation=suzhou, startTime=2013-05-04 09:00:00, endTime=2013-05-04 09:48:00, economyClass=1073741819, confortClass=1073741819, priceForEconomyClass=76.0, priceForConfortClass=200.0), trip=Trip(id=83e91a65-4549-4614-bf2f-5cbabc8dfa0c, tripId=G1234, trainTypeName=GaoTieOne, routeId=92708982-77af-4318-be25-57ccb0ff69ad, startStationName=shanghai, stationsName=suzhou, terminalStationName=taiyuan, startTime=2013-05-04 09:00:00, endTime=2013-05-04 15:51:52)), ticketPrice=200.0, orderMoneyDifference=60.0))",
    "2024-05-14 16:07:53.805 INFO   1 --- [http-nio-18886-exec-10] r.s.LoggingAspect: Entering in Method: rebook, Class: rebook.service.RebookServiceImpl, Arguments: [RebookInfo(loginId=, orderId=584bfdcd-eb6b-4eeb-8261-4085c8aa64ee, oldTripId=D1345, tripId=D1345, seatType=2, date=2024-05-14)], Return: Response( msg=Success, data=OrderUpdateDto(order=Order(id=584bfdcd-eb6b-4eeb-8261-4085c8aa64ee, boughtDate=2024-05-14 16:07:27, travelDate=2024-05-16, travelTime=2013-05-04 07:00:00, accountId=4d2a46c7-71cb-4cf1-b5bb-b68406d9da6f, contactsName=Contacts_Two, documentType=1, contactsDocumentNumber=DocumentNumber_Two, trainNumber=D1345, coachNumber=5, seatClass=3, seatNumber=1068629922, from=shanghai, to=suzhou, , price=22.5, differenceMoney=0.0), rebookInfo=null, tripAllDetail=TripAllDetail(status=false, message=null, tripResponse=TripResponse(tripId=D1345, trainTypeName=DongCheOne, startStation=shanghai, terminalStation=suzhou, startTime=2013-05-04 07:00:00, endTime=2013-05-04 07:16:00, economyClass=1073741821, confortClass=1073741821, priceForEconomyClass=22.5, priceForConfortClass=50.0), trip=Trip(id=67f8ced9-80db-4bd2-aaeb-6a40206fe261, tripId=D1345, trainTypeName=DongCheOne, routeId=f3d4d4ef-693b-4456-8eed-59c0d717dd08, startStationName=shanghai, stationsName=suzhou, terminalStationName=taiyuan, startTime=2013-05-04 07:00:00, endTime=2013-05-04 19:59:52)), ticketPrice=50.0, orderMoneyDifference=27.5))",
    "2024-05-14 17:16:23.061 INFO   1 --- [http-nio-18886-exec-3] r.s.LoggingAspect: Entering in Method: rebook, Class: rebook.service.RebookServiceImpl, Arguments: [RebookInfo(loginId=, orderId=ce41c585-9917-417c-bbef-c65d39547966, oldTripId=G1234, tripId=G1234, seatType=2, date=2024-05-14)],  Return: Response( msg=Success, data=OrderUpdateDto(order=Order(id=ce41c585-9917-417c-bbef-c65d39547966, boughtDate=2024-05-14 17:15:07, travelDate=2024-05-15, travelTime=2013-05-04 09:24:00, accountId=4d2a46c7-71cb-4cf1-b5bb-b68406d9da6f, contactsName=Contacts_One, documentType=1, contactsDocumentNumber=DocumentNumber_One, trainNumber=G1234, coachNumber=5, seatClass=3, seatNumber=932506625, from=zhenjiang, to=shanghai, , price=57.0, differenceMoney=0.0), rebookInfo=null, tripAllDetail=TripAllDetail(status=false, message=null, tripResponse=TripResponse(tripId=G1234, trainTypeName=GaoTieOne, startStation=zhenjiang, terminalStation=shanghai, startTime=2013-05-04 09:24:00, endTime=2013-05-04 10:00:00, economyClass=1073741818, confortClass=1073741818, priceForEconomyClass=57.0, priceForConfortClass=150.0), trip=Trip(id=83e91a65-4549-4614-bf2f-5cbabc8dfa0c, tripId=G1234, trainTypeName=GaoTieOne, routeId=92708982-77af-4318-be25-57ccb0ff69ad, startStationName=shanghai, stationsName=suzhou, terminalStationName=taiyuan, startTime=2013-05-04 09:00:00, endTime=2013-05-04 15:51:52)), ticketPrice=150.0, orderMoneyDifference=93.0))",
    "2024-05-14 17:27:49.390 INFO   1 --- [http-nio-18886-exec-10] r.s.LoggingAspect: Entering in Method: rebook, Class: rebook.service.RebookServiceImpl, Arguments: [RebookInfo(loginId=, orderId=4d4694a5-f98d-477f-97a1-a4b31d5eef48, oldTripId=D1345, tripId=D1345, seatType=2, date=2024-05-14)], Return: Response( msg=Success, data=OrderUpdateDto(order=Order(id=4d4694a5-f98d-477f-97a1-a4b31d5eef48, boughtDate=2024-05-14 17:27:03, travelDate=2024-05-15, travelTime=2013-05-04 07:00:00, accountId=4d2a46c7-71cb-4cf1-b5bb-b68406d9da6f, contactsName=Contacts_Two, documentType=1, contactsDocumentNumber=DocumentNumber_Two, trainNumber=D1345, coachNumber=5, seatClass=3, seatNumber=1719362097, from=shanghai, to=suzhou, , price=22.5, differenceMoney=0.0), rebookInfo=null, tripAllDetail=TripAllDetail(status=false, message=null, tripResponse=TripResponse(tripId=D1345, trainTypeName=DongCheOne, startStation=shanghai, terminalStation=suzhou, startTime=2013-05-04 07:00:00, endTime=2013-05-04 07:16:00, economyClass=1073741808, confortClass=1073741808, priceForEconomyClass=22.5, priceForConfortClass=50.0), trip=Trip(id=67f8ced9-80db-4bd2-aaeb-6a40206fe261, tripId=D1345, trainTypeName=DongCheOne, routeId=f3d4d4ef-693b-4456-8eed-59c0d717dd08, startStationName=shanghai, stationsName=suzhou, terminalStationName=taiyuan, startTime=2013-05-04 07:00:00, endTime=2013-05-04 19:59:52)), ticketPrice=50.0, orderMoneyDifference=27.5))"
]

logs2 = [
    "2024-05-14 16:43:09.011 INFO   1 --- [http-nio-18886-exec-8] r.s.LoggingAspect: Entering in Method: rebook, Class: rebook.service.RebookServiceImpl, Arguments: [RebookInfo(loginId=, orderId=f1160f0a-748d-4bc1-af5b-97694f627acd, oldTripId=D1345, tripId=D1345, seatType=3, date=2024-05-14)], Return: Response(, msg=Success, data=OrderUpdateDto(order=Order(id=f1160f0a-748d-4bc1-af5b-97694f627acd, boughtDate=2024-05-14 16:42:47, travelDate=2024-05-15, travelTime=2013-05-04 07:00:00, accountId=50d545f6-5735-4857-95b9-e09baf562ddc, contactsName=Jason, documentType=2, contactsDocumentNumber=EH9202323, trainNumber=D1345, coachNumber=5, seatClass=2, seatNumber=972790837, from=shanghai, to=suzhou, , price=50.0, differenceMoney=0.0), rebookInfo=null, tripAllDetail=TripAllDetail(status=false, message=null, tripResponse=TripResponse(tripId=D1345, trainTypeName=DongCheOne, startStation=shanghai, terminalStation=suzhou, startTime=2013-05-04 07:00:00, endTime=2013-05-04 07:16:00, economyClass=1073741813, confortClass=1073741813, priceForEconomyClass=22.5, priceForConfortClass=50.0), trip=Trip(id=67f8ced9-80db-4bd2-aaeb-6a40206fe261, tripId=D1345, trainTypeName=DongCheOne, routeId=f3d4d4ef-693b-4456-8eed-59c0d717dd08, startStationName=shanghai, stationsName=suzhou, terminalStationName=taiyuan, startTime=2013-05-04 07:00:00, endTime=2013-05-04 19:59:52)), ticketPrice=22.5, orderMoneyDifference=0))",
    "2024-05-14 16:59:38.345 INFO   1 --- [http-nio-18886-exec-10] r.s.LoggingAspect: Entering in Method: rebook, Class: rebook.service.RebookServiceImpl, Arguments: [RebookInfo(loginId=, orderId=83bab7bf-12ee-42b8-8f3e-dc9f83917c99, oldTripId=G1236, tripId=G1236, seatType=2, date=2024-05-14)], Return: Response(, msg=Success, data=OrderUpdateDto(order=Order(id=83bab7bf-12ee-42b8-8f3e-dc9f83917c99, boughtDate=2024-05-14 16:57:53, travelDate=2024-05-15, travelTime=2013-05-04 14:00:00, accountId=4d2a46c7-71cb-4cf1-b5bb-b68406d9da6f, contactsName=Contacts_Two, documentType=1, contactsDocumentNumber=DocumentNumber_Two, trainNumber=G1236, coachNumber=5, seatClass=2, seatNumber=1189441341, from=nanjing, to=shanghai, , price=250.0, differenceMoney=0.0), rebookInfo=null, tripAllDetail=TripAllDetail(status=false, message=null, tripResponse=TripResponse(tripId=G1236, trainTypeName=GaoTieOne, startStation=nanjing, terminalStation=shanghai, startTime=2013-05-04 14:00:00, endTime=2013-05-04 15:00:00, economyClass=1073741823, confortClass=1073741823, priceForEconomyClass=175.0, priceForConfortClass=250.0), trip=Trip(id=d5b5d7ae-9b33-43a9-b2c9-096af063bd09, tripId=G1236, trainTypeName=GaoTieOne, routeId=a3f256c1-0e43-4f7d-9c21-121bf258101f, startStationName=shanghai, stationsName=suzhou, terminalStationName=taiyuan, startTime=2013-05-04 14:00:00, endTime=2013-05-04 20:51:52)), ticketPrice=250.0, orderMoneyDifference=0))",
    "2024-05-14 17:00:59.620 INFO   1 --- [http-nio-18886-exec-9] r.s.LoggingAspect: Entering in Method: rebook, Class: rebook.service.RebookServiceImpl, Arguments: [RebookInfo(loginId=, orderId=a12d3cb9-0102-4324-b05e-63242ee70aa6, oldTripId=G1236, tripId=G1237, seatType=3, date=2024-05-14)], Return: Response(, msg=Success, data=OrderUpdateDto(order=Order(id=a12d3cb9-0102-4324-b05e-63242ee70aa6, boughtDate=2024-05-14 17:00:13, travelDate=2024-05-15, travelTime=2013-05-04 14:48:00, accountId=4d2a46c7-71cb-4cf1-b5bb-b68406d9da6f, contactsName=Contacts_Two, documentType=1, contactsDocumentNumber=DocumentNumber_Two, trainNumber=G1236, coachNumber=5, seatClass=2, seatNumber=1267571020, from=suzhou, to=shanghai, , price=50.0, differenceMoney=0.0), rebookInfo=null, tripAllDetail=TripAllDetail(status=false, message=null, tripResponse=TripResponse(tripId=G1237, trainTypeName=GaoTieTwo, startStation=suzhou, terminalStation=shanghai, startTime=2013-05-04 08:00:00, endTime=2013-05-04 08:15:00, economyClass=1073741823, confortClass=1073741823, priceForEconomyClass=30.0, priceForConfortClass=50.0), trip=Trip(id=297ab826-66a6-410f-bfd5-93c94cea3601, tripId=G1237, trainTypeName=GaoTieTwo, routeId=084837bb-53c8-4438-87c8-0321a4d09917, startStationName=shanghai, stationsName=suzhou, terminalStationName=taiyuan, startTime=2013-05-04 08:00:00, endTime=2013-05-04 17:21:52)), ticketPrice=30.0, orderMoneyDifference=0))",
    "2024-05-14 17:11:51.684 INFO   1 --- [http-nio-18886-exec-3] r.s.LoggingAspect: Entering in Method: rebook, Class: rebook.service.RebookServiceImpl, Arguments: [RebookInfo(loginId=, orderId=56ba27d3-f996-4dfa-8ffb-6bbc585d1ddd, oldTripId=G1236, tripId=G1237, seatType=3, date=2024-05-14)],  Return: Response(, msg=Success, data=OrderUpdateDto(order=Order(id=56ba27d3-f996-4dfa-8ffb-6bbc585d1ddd, boughtDate=2024-05-14 17:05:36, travelDate=2024-05-15, travelTime=2013-05-04 14:48:00, accountId=50d545f6-5735-4857-95b9-e09baf562ddc, contactsName=Jason, documentType=2, contactsDocumentNumber=EH9202323, trainNumber=G1236, coachNumber=5, seatClass=3, seatNumber=1465821560, from=suzhou, to=shanghai, , price=35.0, differenceMoney=0.0), rebookInfo=null, tripAllDetail=TripAllDetail(status=false, message=null, tripResponse=TripResponse(tripId=G1237, trainTypeName=GaoTieTwo, startStation=suzhou, terminalStation=shanghai, startTime=2013-05-04 08:00:00, endTime=2013-05-04 08:15:00, economyClass=1073741822, confortClass=1073741822, priceForEconomyClass=30.0, priceForConfortClass=50.0), trip=Trip(id=297ab826-66a6-410f-bfd5-93c94cea3601, tripId=G1237, trainTypeName=GaoTieTwo, routeId=084837bb-53c8-4438-87c8-0321a4d09917, startStationName=shanghai, stationsName=suzhou, terminalStationName=taiyuan, startTime=2013-05-04 08:00:00, endTime=2013-05-04 17:21:52)), ticketPrice=30.0, orderMoneyDifference=0))",
    "2024-05-14 17:24:38.207 INFO   1 --- [http-nio-18886-exec-6] r.s.LoggingAspect: Entering in Method: rebook, Class: rebook.service.RebookServiceImpl, Arguments: [RebookInfo(loginId=, orderId=bcb540b4-8915-46da-81bb-70862960901f, oldTripId=G1234, tripId=G1234, seatType=3, date=2024-05-14)], Return: Response(, msg=Success, data=OrderUpdateDto(order=Order(id=bcb540b4-8915-46da-81bb-70862960901f, boughtDate=2024-05-14 17:16:58, travelDate=2024-05-15, travelTime=2013-05-04 09:00:00, accountId=50d545f6-5735-4857-95b9-e09baf562ddc, contactsName=Jason, documentType=2, contactsDocumentNumber=EH9202323, trainNumber=G1234, coachNumber=5, seatClass=2, seatNumber=424998442, from=nanjing, to=suzhou, , price=200.0, differenceMoney=0.0), rebookInfo=null, tripAllDetail=TripAllDetail(status=false, message=null, tripResponse=TripResponse(tripId=G1234, trainTypeName=GaoTieOne, startStation=nanjing, terminalStation=suzhou, startTime=2013-05-04 09:00:00, endTime=2013-05-04 09:48:00, economyClass=1073741818, confortClass=1073741818, priceForEconomyClass=76.0, priceForConfortClass=200.0), trip=Trip(id=83e91a65-4549-4614-bf2f-5cbabc8dfa0c, tripId=G1234, trainTypeName=GaoTieOne, routeId=92708982-77af-4318-be25-57ccb0ff69ad, startStationName=shanghai, stationsName=suzhou, terminalStationName=taiyuan, startTime=2013-05-04 09:00:00, endTime=2013-05-04 15:51:52)), ticketPrice=76.0, orderMoneyDifference=0))"
]

parent_url= "/api/v1/rebookService/rebook"

child_url1 = "/api/v1/rebookService/payDifference"

child_url2 = "/api/v1/rebookService/updateOrder"

checker = GPTChecker(
    api_key="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",
    model="gpt-4o",
    max_tokens=2048,
    top_p=0.9,
    temperature=0.0
)

result = checker.check_flow_constraint(
    parent_url,
    child_url1,
    child_url2,
    logs1,
    logs2
)
print(result[1])